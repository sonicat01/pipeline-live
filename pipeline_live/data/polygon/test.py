from pipeline_live.data.sources import polygon
#financials = polygon.financials()
financials = {'NWE': [{'symbol': 'NWE', 'reportDate': '2018-09-30T00:00:00.000Z', 'reportDateStr': '2018-09-30', 'grossProfit': 207627000, 'costOfRevenue': 72247000, 'operatingRevenue': 279874000, 'totalRevenue': 279874000, 'operatingIncome': 47808000, 'netIncome': 28182000, 'researchAndDevelopment': None, 'operatingExpense': 159819000, 'currentAssets': 247222000, 'totalAssets': 5500098000, 'totalLiabilities': None, 'currentCash': 14093000, 'currentDebt': 2255000, 'totalCash': 6912000, 'totalDebt': 2038857000, 'shareholderEquity': 1899900000, 'cashChange': 1181000, 'cashFlow': 99291000, 'operatingGainsLosses': -66000}, {'symbol': 'NWE', 'reportDate': '2018-06-30T00:00:00.000Z', 'reportDateStr': '2018-06-30', 'grossProfit': 229627000, 'costOfRevenue': 32190000, 'operatingRevenue': 261817000, 'totalRevenue': 261817000, 'operatingIncome': 69210000, 'netIncome': 43787000, 'researchAndDevelopment': None, 'operatingExpense': 160417000, 'currentAssets': 231920000, 'totalAssets': 5438974000, 'totalLiabilities': None, 'currentCash': 12912000, 'currentDebt': 2212000, 'totalCash': 5569000, 'totalDebt': 2033146000, 'shareholderEquity': 1897731000, 'cashChange': 2012000, 'cashFlow': 74099000, 'operatingGainsLosses': -4000}, {'symbol': 'NWE', 'reportDate': '2018-03-31T00:00:00.000Z', 'reportDateStr': '2018-03-31', 'grossProfit': 245425000, 'costOfRevenue': 96077000, 'operatingRevenue': 341502000, 'totalRevenue': 341502000, 'operatingIncome': 84512000, 'netIncome': 58499000, 'researchAndDevelopment': None, 'operatingExpense': 160913000, 'currentAssets': 258034000, 'totalAssets': 5400418000, 'totalLiabilities': None, 'currentCash': 10900000, 'currentDebt': 2173000, 'totalCash': 4742000, 'totalDebt': 2040404000, 'shareholderEquity': 1834623000, 'cashChange': -1129000, 'cashFlow': 173028000, 'operatingGainsLosses': 15000}, {'symbol': 'NWE', 'reportDate': '2017-12-31T00:00:00.000Z', 'reportDateStr': '2017-12-31', 'grossProfit': 235523000, 'costOfRevenue': 109025000, 'operatingRevenue': 344548000, 'totalRevenue': 344548000, 'operatingIncome': 63241000, 'netIncome': 47894000, 'researchAndDevelopment': None, 'operatingExpense': 172282000, 'currentAssets': 296359000, 'totalAssets': 5420917000, 'totalLiabilities': None, 'currentCash': 8473000, 'currentDebt': 321689000, 'totalCash': 8473000, 'totalDebt': 2137318000, 'shareholderEquity': 1798915000, 'cashChange': -2021000, 'cashFlow': 20431000, 'operatingGainsLosses': -24000}, {'symbol': 'NWE', 'reportDate': '2017-09-30T00:00:00.000Z', 'reportDateStr': '2017-09-30', 'grossProfit': 212426000, 'costOfRevenue': 97507000, 'operatingRevenue': 309933000, 'totalRevenue': 309933000, 'operatingIncome': 61546000, 'netIncome': 36412000, 'researchAndDevelopment': None, 'operatingExpense': 150880000, 'currentAssets': 253713000, 'totalAssets': 5628955000, 'totalLiabilities': 3902767000, 'currentCash': 7868000, 'currentDebt': 271831000, 'totalCash': 7868000, 'totalDebt': 2088681000, 'shareholderEquity': 1726188000, 'cashChange': -8991000, 'cashFlow': 122747000, 'operatingGainsLosses': 10000}, {'symbol': 'NWE', 'reportDate': '2017-06-30T00:00:00.000Z', 'reportDateStr': '2017-06-30', 'grossProfit': 199859000, 'costOfRevenue': 84000000, 'operatingRevenue': 283859000, 'totalRevenue': 283859000, 'operatingIncome': 43695000, 'netIncome': 21830000, 'researchAndDevelopment': None, 'operatingExpense': 156164000, 'currentAssets': 248017000, 'totalAssets': 5556932000, 'totalLiabilities': 3848335000, 'currentCash': 16859000, 'currentDebt': 305711000, 'totalCash': 16859000, 'totalDebt': 2122828000, 'shareholderEquity': 1708597000, 'cashChange': 4000000, 'cashFlow': 20603000, 'operatingGainsLosses': -315000}]}
print(financials.get('NWE',{})[0])
polygon
out = {}
# for c in ['shareBasedCompensation']:
#     data = [
#         financials.get(symbol, {}).get(c.name, c.missing_value)
#         for symbol in ['AAPL']
#     ]