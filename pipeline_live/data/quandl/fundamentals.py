import numpy as np

from zipline.utils.numpy_utils import (
    object_dtype, datetime64ns_dtype, datetime64D_dtype, float64_dtype,bool_dtype
)
from zipline.pipeline.data.dataset import Column, DataSet

from .fundamentals_loader import (
    QUANDLFinancialsLoader,
)


class QUANDLFinancials(DataSet):

    roe                    = Column(float64_dtype, missing_value=np.nan)
    roa                     = Column(float64_dtype, missing_value=np.nan)
    roic                     = Column(float64_dtype, missing_value=np.nan)
    grossmargin                     = Column(float64_dtype, missing_value=np.nan)
    netmargin                     = Column(float64_dtype, missing_value=np.nan)
    ebitdamargin                     = Column(float64_dtype, missing_value=np.nan)
    ros                     = Column(float64_dtype, missing_value=np.nan)
    assetturnover                     = Column(float64_dtype, missing_value=np.nan)
    payoutratio                     = Column(float64_dtype, missing_value=np.nan)
    divyield                     = Column(float64_dtype, missing_value=np.nan)
    percentoftotal                     = Column(float64_dtype, missing_value=np.nan)
    percentoftotal                     = Column(float64_dtype, missing_value=np.nan)
    revenue                     = Column(float64_dtype, missing_value=np.nan)
    cor                     = Column(float64_dtype, missing_value=np.nan)
    sgna                     = Column(float64_dtype, missing_value=np.nan)
    rnd                     = Column(float64_dtype, missing_value=np.nan)
    opex                     = Column(float64_dtype, missing_value=np.nan)
    intexp                     = Column(float64_dtype, missing_value=np.nan)
    taxexp                     = Column(float64_dtype, missing_value=np.nan)
    netincdis                     = Column(float64_dtype, missing_value=np.nan)
    consolinc                     = Column(float64_dtype, missing_value=np.nan)
    netincnci                     = Column(float64_dtype, missing_value=np.nan)
    netinc                     = Column(float64_dtype, missing_value=np.nan)
    prefdivis                     = Column(float64_dtype, missing_value=np.nan)
    netinccmn                     = Column(float64_dtype, missing_value=np.nan)
    capex                     = Column(float64_dtype, missing_value=np.nan)
    ncfbus                     = Column(float64_dtype, missing_value=np.nan)
    ncfinv                     = Column(float64_dtype, missing_value=np.nan)
    ncff                     = Column(float64_dtype, missing_value=np.nan)
    ncfdebt                     = Column(float64_dtype, missing_value=np.nan)
    ncfcommon                     = Column(float64_dtype, missing_value=np.nan)
    ncfdiv                     = Column(float64_dtype, missing_value=np.nan)
    ncfi                     = Column(float64_dtype, missing_value=np.nan)
    ncfo                     = Column(float64_dtype, missing_value=np.nan)
    ncfx                     = Column(float64_dtype, missing_value=np.nan)
    ncf                     = Column(float64_dtype, missing_value=np.nan)
    sbcomp                     = Column(float64_dtype, missing_value=np.nan)
    depamor                     = Column(float64_dtype, missing_value=np.nan)
    assets                     = Column(float64_dtype, missing_value=np.nan)
    cashneq                     = Column(float64_dtype, missing_value=np.nan)
    investments                     = Column(float64_dtype, missing_value=np.nan)
    investmentsc                     = Column(float64_dtype, missing_value=np.nan)
    investmentsnc                     = Column(float64_dtype, missing_value=np.nan)
    deferredrev                     = Column(float64_dtype, missing_value=np.nan)
    deposits                     = Column(float64_dtype, missing_value=np.nan)
    ppnenet                     = Column(float64_dtype, missing_value=np.nan)
    inventory                     = Column(float64_dtype, missing_value=np.nan)
    taxassets                     = Column(float64_dtype, missing_value=np.nan)
    receivables                     = Column(float64_dtype, missing_value=np.nan)
    payables                     = Column(float64_dtype, missing_value=np.nan)
    intangibles                     = Column(float64_dtype, missing_value=np.nan)
    liabilities                     = Column(float64_dtype, missing_value=np.nan)
    equity                     = Column(float64_dtype, missing_value=np.nan)
    retearn                     = Column(float64_dtype, missing_value=np.nan)
    accoci                     = Column(float64_dtype, missing_value=np.nan)
    assetsc                     = Column(float64_dtype, missing_value=np.nan)
    assetsnc                     = Column(float64_dtype, missing_value=np.nan)
    liabilitiesc                     = Column(float64_dtype, missing_value=np.nan)
    liabilitiesnc                     = Column(float64_dtype, missing_value=np.nan)
    taxliabilities                     = Column(float64_dtype, missing_value=np.nan)
    debt                     = Column(float64_dtype, missing_value=np.nan)
    debtc                     = Column(float64_dtype, missing_value=np.nan)
    debtnc                     = Column(float64_dtype, missing_value=np.nan)
    ebt                     = Column(float64_dtype, missing_value=np.nan)
    ebit                     = Column(float64_dtype, missing_value=np.nan)
    ebitda                     = Column(float64_dtype, missing_value=np.nan)
    invcap                     = Column(float64_dtype, missing_value=np.nan)
    equityavg                     = Column(float64_dtype, missing_value=np.nan)
    assetsavg                     = Column(float64_dtype, missing_value=np.nan)
    invcapavg                     = Column(float64_dtype, missing_value=np.nan)
    tangibles                     = Column(float64_dtype, missing_value=np.nan)
    fcf                     = Column(float64_dtype, missing_value=np.nan)
    gp                     = Column(float64_dtype, missing_value=np.nan)
    opinc                     = Column(float64_dtype, missing_value=np.nan)
    workingcapital                     = Column(float64_dtype, missing_value=np.nan)
    eps                     = Column(float64_dtype, missing_value=np.nan)
    epsdil                     = Column(float64_dtype, missing_value=np.nan)
    fcfps                     = Column(float64_dtype, missing_value=np.nan)
    bvps                     = Column(float64_dtype, missing_value=np.nan)
    tbvps                     = Column(float64_dtype, missing_value=np.nan)
    calendardate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    datekey                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    reportperiod                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastupdated                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    filingdate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    transactiondate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    dateexercisable                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    expirationdate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    calendardate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    calendardate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    calendardate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    date                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastupdated                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    date                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    date                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastupdated                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    date                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    date                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastupdated                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    date                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastupdated                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    firstadded                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    firstpricedate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastpricedate                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    firstquarter                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    lastquarter                     = Column(datetime64ns_dtype, missing_value=np.datetime64('1970-01-01'))
    rownum                     = Column(float64_dtype, missing_value=np.nan)
    shrholders                     = Column(float64_dtype, missing_value=np.nan)
    cllholders                     = Column(float64_dtype, missing_value=np.nan)
    putholders                     = Column(float64_dtype, missing_value=np.nan)
    wntholders                     = Column(float64_dtype, missing_value=np.nan)
    dbtholders                     = Column(float64_dtype, missing_value=np.nan)
    prfholders                     = Column(float64_dtype, missing_value=np.nan)
    fndholders                     = Column(float64_dtype, missing_value=np.nan)
    undholders                     = Column(float64_dtype, missing_value=np.nan)
    shrholdings                     = Column(float64_dtype, missing_value=np.nan)
    cllholdings                     = Column(float64_dtype, missing_value=np.nan)
    putholdings                     = Column(float64_dtype, missing_value=np.nan)
    wntholdings                     = Column(float64_dtype, missing_value=np.nan)
    dbtholdings                     = Column(float64_dtype, missing_value=np.nan)
    prfholdings                     = Column(float64_dtype, missing_value=np.nan)
    fndholdings                     = Column(float64_dtype, missing_value=np.nan)
    undholdings                     = Column(float64_dtype, missing_value=np.nan)
    volume                     = Column(float64_dtype, missing_value=np.nan)
    value                     = Column(float64_dtype, missing_value=np.nan)
    volume                     = Column(float64_dtype, missing_value=np.nan)
    fxusd                     = Column(float64_dtype, missing_value=np.nan)
    sharefactor                     = Column(float64_dtype, missing_value=np.nan)
    evebitda                     = Column(float64_dtype, missing_value=np.nan)
    evebit                     = Column(float64_dtype, missing_value=np.nan)
    pe                     = Column(float64_dtype, missing_value=np.nan)
    pe1                     = Column(float64_dtype, missing_value=np.nan)
    ps1                     = Column(float64_dtype, missing_value=np.nan)
    ps                     = Column(float64_dtype, missing_value=np.nan)
    pb                     = Column(float64_dtype, missing_value=np.nan)
    de                     = Column(float64_dtype, missing_value=np.nan)
    currentratio                     = Column(float64_dtype, missing_value=np.nan)
    evebit                     = Column(float64_dtype, missing_value=np.nan)
    pb                     = Column(float64_dtype, missing_value=np.nan)
    pe                     = Column(float64_dtype, missing_value=np.nan)
    ps                     = Column(float64_dtype, missing_value=np.nan)
    ticker                     = Column(object_dtype, missing_value='')
    dimension                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    formtype                     = Column(object_dtype, missing_value='')
    issuername                     = Column(object_dtype, missing_value='')
    ownername                     = Column(object_dtype, missing_value='')
    officertitle                     = Column(object_dtype, missing_value='')
    securityadcode                     = Column(object_dtype, missing_value='')
    transactioncode                     = Column(object_dtype, missing_value='')
    securitytitle                     = Column(object_dtype, missing_value='')
    directorindirect                     = Column(object_dtype, missing_value='')
    natureofownership                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    investorname                     = Column(object_dtype, missing_value='')
    securitytype                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    name                     = Column(object_dtype, missing_value='')
    investorname                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    action                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    name                     = Column(object_dtype, missing_value='')
    contraticker                     = Column(object_dtype, missing_value='')
    contraname                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')

    ticker                     = Column(object_dtype, missing_value='')
    eventcodes                     = Column(object_dtype, missing_value='')
    table                     = Column(object_dtype, missing_value='')
    indicator                     = Column(object_dtype, missing_value='')
    title                     = Column(object_dtype, missing_value='')
    description                     = Column(object_dtype, missing_value='')
    unittype                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    action                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    name                     = Column(object_dtype, missing_value='')
    contraticker                     = Column(object_dtype, missing_value='')
    contraname                     = Column(object_dtype, missing_value='')
    note                     = Column(object_dtype, missing_value='')
    table                     = Column(object_dtype, missing_value='')
    permaticker                     = Column(object_dtype, missing_value='')
    ticker                     = Column(object_dtype, missing_value='')
    name                     = Column(object_dtype, missing_value='')
    exchange                     = Column(object_dtype, missing_value='')
    category                     = Column(object_dtype, missing_value='')
    cusips                     = Column(object_dtype, missing_value='')
    siccode                     = Column(object_dtype, missing_value='')
    sicsector                     = Column(object_dtype, missing_value='')
    sicindustry                     = Column(object_dtype, missing_value='')
    famasector                     = Column(object_dtype, missing_value='')
    famaindustry                     = Column(object_dtype, missing_value='')
    sector                     = Column(object_dtype, missing_value='')
    industry                     = Column(object_dtype, missing_value='')
    scalemarketcap                     = Column(object_dtype, missing_value='')
    scalerevenue                     = Column(object_dtype, missing_value='')
    relatedtickers                     = Column(object_dtype, missing_value='')
    currency                     = Column(object_dtype, missing_value='')
    location                     = Column(object_dtype, missing_value='')
    secfilings                     = Column(object_dtype, missing_value='')
    companysite                     = Column(object_dtype, missing_value='')
    shareswa                     = Column(float64_dtype, missing_value=np.nan)
    shareswadil                     = Column(float64_dtype, missing_value=np.nan)
    sharesbas                     = Column(float64_dtype, missing_value=np.nan)
    sharesownedbeforetransaction                     = Column(float64_dtype, missing_value=np.nan)
    transactionshares                     = Column(float64_dtype, missing_value=np.nan)
    sharesownedfollowingtransaction                     = Column(float64_dtype, missing_value=np.nan)
    units                     = Column(float64_dtype, missing_value=np.nan)
    shrunits                     = Column(float64_dtype, missing_value=np.nan)
    cllunits                     = Column(float64_dtype, missing_value=np.nan)
    putunits                     = Column(float64_dtype, missing_value=np.nan)
    wntunits                     = Column(float64_dtype, missing_value=np.nan)
    dbtunits                     = Column(float64_dtype, missing_value=np.nan)
    prfunits                     = Column(float64_dtype, missing_value=np.nan)
    fndunits                     = Column(float64_dtype, missing_value=np.nan)
    undunits                     = Column(float64_dtype, missing_value=np.nan)
    shrunits                     = Column(float64_dtype, missing_value=np.nan)
    cllunits                     = Column(float64_dtype, missing_value=np.nan)
    putunits                     = Column(float64_dtype, missing_value=np.nan)
    wntunits                     = Column(float64_dtype, missing_value=np.nan)
    dbtunits                     = Column(float64_dtype, missing_value=np.nan)
    prfunits                     = Column(float64_dtype, missing_value=np.nan)
    fndunits                     = Column(float64_dtype, missing_value=np.nan)
    undunits                     = Column(float64_dtype, missing_value=np.nan)
    equityusd                     = Column(float64_dtype, missing_value=np.nan)
    revenueusd                     = Column(float64_dtype, missing_value=np.nan)
    netinccmnusd                     = Column(float64_dtype, missing_value=np.nan)
    cashnequsd                     = Column(float64_dtype, missing_value=np.nan)
    debtusd                     = Column(float64_dtype, missing_value=np.nan)
    ebitusd                     = Column(float64_dtype, missing_value=np.nan)
    ebitdausd                     = Column(float64_dtype, missing_value=np.nan)
    marketcap                     = Column(float64_dtype, missing_value=np.nan)
    ev                     = Column(float64_dtype, missing_value=np.nan)
    transactionvalue                     = Column(float64_dtype, missing_value=np.nan)
    priceexercisable                     = Column(float64_dtype, missing_value=np.nan)
    value                     = Column(float64_dtype, missing_value=np.nan)
    shrvalue                     = Column(float64_dtype, missing_value=np.nan)
    cllvalue                     = Column(float64_dtype, missing_value=np.nan)
    putvalue                     = Column(float64_dtype, missing_value=np.nan)
    wntvalue                     = Column(float64_dtype, missing_value=np.nan)
    dbtvalue                     = Column(float64_dtype, missing_value=np.nan)
    prfvalue                     = Column(float64_dtype, missing_value=np.nan)
    fndvalue                     = Column(float64_dtype, missing_value=np.nan)
    undvalue                     = Column(float64_dtype, missing_value=np.nan)
    totalvalue                     = Column(float64_dtype, missing_value=np.nan)
    shrvalue                     = Column(float64_dtype, missing_value=np.nan)
    cllvalue                     = Column(float64_dtype, missing_value=np.nan)
    putvalue                     = Column(float64_dtype, missing_value=np.nan)
    wntvalue                     = Column(float64_dtype, missing_value=np.nan)
    dbtvalue                     = Column(float64_dtype, missing_value=np.nan)
    prfvalue                     = Column(float64_dtype, missing_value=np.nan)
    fndvalue                     = Column(float64_dtype, missing_value=np.nan)
    undvalue                     = Column(float64_dtype, missing_value=np.nan)
    totalvalue                     = Column(float64_dtype, missing_value=np.nan)
    ev                     = Column(float64_dtype, missing_value=np.nan)
    evebitda                     = Column(float64_dtype, missing_value=np.nan)
    marketcap                     = Column(float64_dtype, missing_value=np.nan)
    epsusd                     = Column(float64_dtype, missing_value=np.nan)
    dps                     = Column(float64_dtype, missing_value=np.nan)
    sps                     = Column(float64_dtype, missing_value=np.nan)
    price                     = Column(float64_dtype, missing_value=np.nan)
    transactionpricepershare                     = Column(float64_dtype, missing_value=np.nan)
    price                     = Column(float64_dtype, missing_value=np.nan)
    open                     = Column(float64_dtype, missing_value=np.nan)
    high                     = Column(float64_dtype, missing_value=np.nan)
    low                     = Column(float64_dtype, missing_value=np.nan)
    close                     = Column(float64_dtype, missing_value=np.nan)
    dividends                     = Column(float64_dtype, missing_value=np.nan)
    closeunadj                     = Column(float64_dtype, missing_value=np.nan)
    open                     = Column(float64_dtype, missing_value=np.nan)
    high                     = Column(float64_dtype, missing_value=np.nan)
    low                     = Column(float64_dtype, missing_value=np.nan)
    close                     = Column(float64_dtype, missing_value=np.nan)
    dividends                     = Column(float64_dtype, missing_value=np.nan)
    closeunadj                     = Column(float64_dtype, missing_value=np.nan)
    isdirector                     = Column(bool_dtype, missing_value=False)
    isofficer                     = Column(bool_dtype, missing_value=False)
    istenpercentowner                     = Column(bool_dtype, missing_value=False)
    isfilter                     = Column(bool_dtype, missing_value=False)
    isprimarykey                     = Column(bool_dtype, missing_value=False)
    isdelisted                     = Column(bool_dtype, missing_value=False)

    _loader = QUANDLFinancialsLoader()

    @classmethod
    def get_loader(cls):
        return cls._loader

